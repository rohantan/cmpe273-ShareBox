<html>
<head>
<meta charset="utf-8">
<title>ShareBox Application</title>

<!-- Bootstrap CSS used for styling the demo pages-->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/style.css">
</head>

<body>
	<form class="form" id="login">
		<div class="form-group">
			<label>ShareBox</label>
		</div>
		<div class="form-group">
			<label for="login-email">Email address</label> <input type="email"
				class="form-control" id="login-email" name="login-email"
				placeholder="Enter email">
		</div>
		<div class="form-group">
			<label for="login-password">Password</label> <input type="password"
				class="form-control" id="login-password" name="login-password"
				placeholder="Password">
		</div>
		<div class="form-group">
		<input type="button" id="bt_signin" class="btn btn-primary" value="Sign in"
			onclick="validate()" /> 
		<input type="button" id="bt_register" class="btn btn-primary"
			value="Register" onclick="register()" />
		</div>
	
	
	<script>
		function validate() {
			alert("in validate");
		var xmlhttp = new XMLHttpRequest();
		
		var url = "http://localhost:8080/ACUMEN-ShareBox/rest/files/doAuthentication/rohantan/rohan";
		//var xmlhttp = new XMLHttpRequest();
		alert("url::: "+url);
		xmlhttp.open('GET', url, true);
		xmlhttp.send(null);
		window.alert("after req sent!"); */
		 xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4) {
				window.alert(xmlhttp.status);
				if (xmlhttp.status == 200) {
					document.write("hello user");
					var res = eval("(" + xmlhttp.responseText + ")");
					alert("get after response");
					//window.alert("length:  " + response.Objects.length);
					window.alert("inside status 200");
					if (res.Msg=="success") {
						window.alert(res);
						window.location='sample.html';
					}
					else {
						window.location='index.html';
					}
				} else {
					window.alert("not 200");
				}
			} else {
				window.alert("not 4");
			}
		} 
	}
		
		
		
		function register() {
			alert("in register");
			var xmlhttp = new XMLHttpRequest();
			var url = "http://localhost:8080/ACUMEN-ShareBox/rest/files/register/rohan/tan/rohantt@gmail.com/rohan";
			//var xmlhttp = new XMLHttpRequest();
			xmlhttp.open('GET', url, true);
			xmlhttp.send(null);
			window.alert("after req sent!");
			xmlhttp.onreadystatechange = function() {
				if (xmlhttp.readyState == 4) {
					window.alert(xmlhttp.status);
					if (xmlhttp.status == 200) {
						/* document.write("hello user"); */
						var res = eval("(" + xmlhttp.responseText + ")");
						alert("get after response");
						//window.alert("length:  " + response.Objects.length);
						window.alert("inside status 200");
						if (res.Msg=="success") {
							window.alert(res);
							window.location='sample.html';
						}
						else {
							window.location='index.html';
						}
					} else {
						window.alert("not 200");
					}
				} else {
					window.alert("not 4");
				}
			}
		}	
</script>
	<script src="js/jquery.js"></script>
	<script
		src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
</form>
</body>
</html>